{%- form 'customer', id: 'newsletter-form', class: 'newsletter-form' -%}
  <input type="hidden" name="contact[tags]" value="newsletter">
  <input type="hidden" name="contact[context]" value="newsletter_footer">
  {%- if form.posted_successfully? -%}
    {% assign formStatus = true %}
    <div class="form-message success">
      <div id="Newsletter-success--{{ section.id }}"  tabindex="-1"> {{- 'newsletter.success' | t -}} </div>
    </div>
  {%- endif -%}
  {%- if form.errors -%}
    <div class="form-message error">
      <div id="Newsletter-error--{{ section.id }}"  tabindex="-1">
        {{- form.errors.translated_fields.email | capitalize }}
        {{ form.errors.messages.email -}}
      </div>
    </div>
  {%- endif -%}
  <div class="{{ class }}{% if settings.enable_input_shadow %} small-shadow-enabled{% endif %}">
    <svg class="envelope" xmlns="http://www.w3.org/2000/svg" width="18" height="14" viewBox="0 0 18 14" fill="none">
      <path d="M1.8 0H16.2C17.19 0 17.991 0.7875 17.991 1.75L18 12.25C18 13.2125 17.19 14 16.2 14H1.8C0.810001 14 0 13.2125 0 12.25V1.75C0 0.7875 0.810001 0 1.8 0ZM1.8 3.5L9 7.875L16.2 3.5V1.75L9 6.125L1.8 1.75V3.5Z" fill="currentColor"/>
    </svg>
    <label class="hidden" for="customerEmail-{{section.id}}">{{ 'general.form.email' | t }}</label>
    <input
      type="email"
      class="form-control"
      name="contact[email]"
      id="customerEmail-{{section.id}}"
      autocomplete="email"
      autocapitalize="off"
      placeholder="{{ placeholderText }}"
      pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)*[a-zA-Z]{2,}))$"
      required
    >
      <button type="submit" name="commit" class="{% if icon == true %}arrow-button small{% endif %} button" aria-label="submit"> 
        {% if icon == true %}
        <svg width="18" height="16" viewBox="0 0 18 16" fill="none">
          <path d="M16.6761 10.3651L12.3082 14.7585C12.2032 14.8638 12.0784 14.9474 11.9409 15.0044C11.8033 15.0615 11.6558 15.0908 11.5068 15.0908C11.3578 15.0908 11.2103 15.0615 11.0727 15.0044C10.9352 14.9474 10.8104 14.8638 10.7055 14.7585C10.4952 14.5479 10.3772 14.2632 10.3772 13.9663C10.3772 13.6695 10.4952 13.3847 10.7054 13.1742L14.7235 9.14038L1.46167 9.14038C1.16233 9.14038 0.875252 9.022 0.663586 8.81128C0.45192 8.60056 0.333007 8.31477 0.333007 8.01677C0.333007 7.71876 0.45192 7.43297 0.663586 7.22225C0.875252 7.01153 1.16233 6.89315 1.46167 6.89315L14.7912 6.89315L10.7054 2.8369C10.5997 2.73245 10.5157 2.60817 10.4584 2.47125C10.4011 2.33433 10.3716 2.18746 10.3716 2.03913C10.3716 1.8908 10.4011 1.74394 10.4584 1.60702C10.5157 1.47009 10.5997 1.34582 10.7054 1.24137C10.8104 1.13605 10.9352 1.05246 11.0727 0.995417C11.2103 0.938372 11.3578 0.909004 11.5068 0.909004C11.6558 0.909004 11.8033 0.938372 11.9409 0.995417C12.0784 1.05246 12.2032 1.13605 12.3082 1.24137L16.6761 5.60099C17.3102 6.23303 17.6663 7.08978 17.6663 7.98306C17.6663 8.87633 17.3102 9.73309 16.6761 10.3651Z" fill="currentColor"/>
        </svg>
        {% else %}
          {{ 'newsletter.button_label' | t }} 
        {% endif %}
      </button>
  </div>
{% endform %}