<div
  class="header-search search-bar-{{ section.settings.search_size }} {% if barStatus %} d-none d-lg-block{% endif %}"
  {% if barStatus %}
    data-search-parent
  {% endif %}
>
  <form action="{{ routes.search_url }}" method="get" role="search" class="predictive-search">
    {% liquid
      assign searchType = 'product,collection'
      if settings.show_article or settings.show_pages
        if settings.show_article
          assign searchType = searchType | append: ',article'
        endif
        if settings.show_pages
          assign searchType = searchType | append: ',page'
        endif
      endif
    %}
    <input type="hidden" name="type" value="{{ searchType }}">
    <div class="predective-search-box has-recommendation{% if section.settings.search_border_enabled %} search_border_enabled{% endif %}">
      <button type="submit" class="search__button body-font" aria-label="Search our site" tabindex="-1">
        <svg
          class="icon icon-search"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M7.17765 0C3.22472 0 0 3.22423 0 7.17749C0 11.1308 3.2243 14.3549 7.17765 14.3549C8.82063 14.3549 10.3358 13.7992 11.5478 12.8646L14.4119 15.7286C14.7737 16.0905 15.3672 16.0905 15.7286 15.7286C16.0905 15.3668 16.0905 14.7808 15.7286 14.419L12.8571 11.555C13.7937 10.3425 14.3549 8.82247 14.3549 7.17749C14.3549 3.22464 11.131 0 7.17765 0ZM7.17765 1.85216C10.1294 1.85216 12.5027 4.22535 12.5027 7.17707C12.5027 10.1288 10.1294 12.502 7.17765 12.502C4.22587 12.502 1.85262 10.1288 1.85262 7.17707C1.85262 4.22535 4.22587 1.85216 7.17765 1.85216Z" fill="currentColor"/>
        </svg>
      </button>
      <label for="header-search{%- if barStatus -%}-bar{%- endif -%}-{{ section.id }}" class="hidden">{{ 'general.search.search' | t }}</label>
      <input
        id="header-search{%- if barStatus -%}-bar{%- endif -%}-{{ section.id }}"
        class="search__input form-control"
        type="text"
        name="q"
        value=""
        placeholder="{{'general.search.search_placeholder'| t }}"
        autocomplete="off"
        tabindex="0"
        data-search-input
      >
      <button type="submit" class="button xsmall-btn hidden" aria-label="Close" tabindex="-1">
        {{ 'general.search.search' | t }}
      </button>
      <button type="reset" class="search__button body-font" data-search-reset>{{ 'general.search.clear' | t }}</button>
      <button class="search__speech hidden" tabindex="0" data-speech-search aria-label="search speech">
        <svg width="14" height="19" viewBox="0 0 14 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M12.3 9C12.3 12 9.76 14.1 7 14.1C4.24 14.1 1.7 12 1.7 9H0C0 12.41 2.72 15.23 6 15.72V19H8V15.72C11.28 15.23 14 12.41 14 9M5.8 2.9C5.8 2.24 6.34 1.7 7 1.7C7.66 1.7 8.2 2.24 8.2 2.9L8.19 9.1C8.19 9.76 7.66 10.3 7 10.3C6.34 10.3 5.8 9.76 5.8 9.1M7 12C7.79565 12 8.55871 11.6839 9.12132 11.1213C9.68393 10.5587 10 9.79565 10 9V3C10 2.20435 9.68393 1.44129 9.12132 0.87868C8.55871 0.316071 7.79565 0 7 0C6.20435 0 5.44129 0.316071 4.87868 0.87868C4.31607 1.44129 4 2.20435 4 3V9C4 9.79565 4.31607 10.5587 4.87868 11.1213C5.44129 11.6839 6.20435 12 7 12Z" fill="currentColor"/>
        </svg>
      </button>
    </div>
  </form>

  {% liquid
    if section.settings.header_style == 'logo_with_search_bar' and barStatus
      render 'predictive-search-drawer', fullWidth: false
    endif
  %}
</div>
<style>
  .predective-search-box {
    --buttonRadius: 6px;
    padding: 0 6px 0 10px;
  }
  .predective-search-box input {
    border: 0;
    padding: 0;
    min-height: 55px;
  }
  .search__button {
    white-space: nowrap;
  }
  .search__button .icon {
    width: 16px;
    height: 16px;
  }
</style>
